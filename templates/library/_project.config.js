'use strict';

const path  = require('path');
const pkg   = require('./package.json');

const type = {
    kind: '<% projectKind %>',
    es: '<% esTarget %>',
    <%# moduleSystem %>
    module: '<% moduleSystem %>',
    <%/ moduleSystem %>
    <%# webpackTarget %>
    env: '<% webpackTarget %>',
    <%/ webpackTarget %>
};

const dir = {
    src: '<% structureConfig.src %>',
    pkg: '<% structureConfig.pkg %>',
    built: '<% structureConfig.built %>',
    doc: '<% structureConfig.doc %>',
    task: '<% structureConfig.task %>',
    test: '<% structureConfig.test %>',
    types: '<% structureConfig.types %>',
};

const lib = {
    <%# namespace %>
    namespace: '<% namespace %>',
    <%/ namespace %>
    main: path.basename('<% mainFileName %>', '.js'),
    bundle_d_ts: 'index.d.ts',
};

const d_ts_bundle = {
    name: pkg.name,
    main: path.join(dir.built, lib.main + '.d.ts'),
    baseDir: dir.built,
    out: path.join('..', dir.pkg, dir.types, pkg.name, lib.bundle_d_ts),
    externals: false,
    verbose: false,
};

const banner = {
    fileName: 'BANNER',
    d_ts_desc: '\n * This file is generated by the CDP package build process.',
};

// project configuration
module.exports = {

    pkg: pkg,
    dir: dir,
    lib: lib,

    dts_bundle: d_ts_bundle,

    banner: banner,
};
