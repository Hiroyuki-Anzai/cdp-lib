/*!
 * cdp-lib.js 0.0.1
 *
 * Date: 2017-05-12T04:57:32.860Z
 */
module.exports=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.i=function(value){return value};__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=33)}([function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(__webpack_require__(15));__export(__webpack_require__(14))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const fs=__webpack_require__(22);exports.fs=fs;const glob=__webpack_require__(23);exports.glob=glob;const hogan=__webpack_require__(29);exports.hogan=hogan;const _l=__webpack_require__(30);const _s=__webpack_require__(31);const which=__webpack_require__(27);exports.which=which;const uuid=__webpack_require__(26);exports.uuid=uuid;const chalk=__webpack_require__(20);exports.chalk=chalk;const semverRegex=__webpack_require__(25);exports.semverRegex=semverRegex;const cli_spinner_1=__webpack_require__(21);exports.Spinner=cli_spinner_1.Spinner;const $=(()=>{global.DOMParser=__webpack_require__(28).DOMParser;const _window=(()=>{const jsdom=__webpack_require__(24);if("function"===typeof jsdom.JSDOM){return(new jsdom.JSDOM).window}else{return jsdom.jsdom().defaultView}})();return __webpack_require__(32)(_window)})();exports.$=$;const _m=_l.mixin(_s.exports());exports._=_m},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const path=__webpack_require__(12);const libs_1=__webpack_require__(1);let _settings={force:false,verbose:false,silent:false,libPath:path.join(process.cwd(),"node_modules","cdp-lib"),lang:"en-US"};function getSettings(){return libs_1.$.extend({},_settings)}exports.getSettings=getSettings;function setSettings(settings){if(settings){_settings.force=settings.force||_settings.force;_settings.verbose=settings.verbose||_settings.verbose;_settings.silent=settings.silent||_settings.silent;_settings.libPath=settings.libPath||_settings.libPath;_settings.lang=settings.lang||_settings.lang}else{_settings={force:false,verbose:false,silent:false,libPath:path.join(process.cwd(),"node_modules","cdp-lib"),lang:"en-US"}}}exports.setSettings=setSettings;function getLibPath(){return _settings.libPath}exports.getLibPath=getLibPath;function log(message,...optionalParams){if(!_settings.silent){if(0<optionalParams.length){console.log(message,optionalParams)}else{console.log(message)}}}exports.log=log;function debug(message,...optionalParams){if(!_settings.silent&&_settings.verbose){if(0<optionalParams.length){console.error("DEBUG: "+message,optionalParams)}else{console.error("DEBUG: "+message)}}}exports.debug=debug;function assert(test,message,...optionalParams){if(!test){if(_settings.force){if(0<optionalParams.length){console.warn(message,optionalParams)}else{console.warn(message)}}else{if(0<optionalParams.length){console.error(message,optionalParams)}else{console.error(message)}process.exit(1)}}}exports.assert=assert;let _lang;function translate(key){if(!_lang){_lang=JSON.parse(libs_1.fs.readFileSync(path.join(_settings.libPath,"res/locales","messages."+_settings.lang+".json"),"utf8").toString())}let resouce=libs_1.$.extend({},_lang);const props=key.split(".");while(0<props.length){const prop=props.shift();if(resouce[prop]){resouce=resouce[prop]}else{assert(false,"resouce not found. key: "+key);return null}}return resouce}exports.translate=translate},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const base_1=__webpack_require__(0);class GeneratorElectron extends base_1.GeneratorBase{create(config){return new Promise((resolve,reject)=>{reject("under construction.")})}}exports.GeneratorElectron=GeneratorElectron},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});const generator_electoron_1=__webpack_require__(3);__export(__webpack_require__(3));function newGeneratorDesktop(config){return new generator_electoron_1.GeneratorElectron(config)}exports.newGeneratorDesktop=newGeneratorDesktop},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const base_1=__webpack_require__(0);class GeneratorModule extends base_1.GeneratorBase{create(config){return new Promise((resolve,reject)=>{reject("under construction.")})}}exports.GeneratorModule=GeneratorModule},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});const generator_module_1=__webpack_require__(5);__export(__webpack_require__(5));function newGeneratorLibrary(config){return new generator_module_1.GeneratorModule(config)}exports.newGeneratorLibrary=newGeneratorLibrary},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const base_1=__webpack_require__(0);class GeneratorCordova extends base_1.GeneratorBase{create(config){return new Promise((resolve,reject)=>{reject("under construction.")})}}exports.GeneratorCordova=GeneratorCordova},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});const generator_cordova_1=__webpack_require__(7);__export(__webpack_require__(7));function newGeneratorMobile(config){return new generator_cordova_1.GeneratorCordova(config)}exports.newGeneratorMobile=newGeneratorMobile},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const base_1=__webpack_require__(0);class GeneratorBrowser extends base_1.GeneratorBase{create(config){return new Promise((resolve,reject)=>{reject("under construction.")})}}exports.GeneratorBrowser=GeneratorBrowser},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});const generator_browser_1=__webpack_require__(9);__export(__webpack_require__(9));function newGeneratorWeb(config){return new generator_browser_1.GeneratorBrowser(config)}exports.newGeneratorWeb=newGeneratorWeb},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(__webpack_require__(1));__export(__webpack_require__(17));__export(__webpack_require__(2))},function(module,exports){module.exports=require("path")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const Utils=__webpack_require__(11);exports.Utils=Utils;const generators_1=__webpack_require__(16);class CDPLib{static execute(config){Utils.setSettings(config.settings);console.log(JSON.stringify(config,null,4));return generators_1.newGenerator(config).run()}}exports.default=CDPLib},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});class GeneratorBase{constructor(_config){this._config=_config}run(){switch(this._config.action){case"create":return this.runCreate(this._config);default:return Promise.reject("unknown action: "+this._config.action)}}notify(message){}runCreate(config){return new Promise((resolve,reject)=>{this.createBase().then(()=>{return this.create(config)}).then(()=>{resolve()}).catch(reason=>{reject(reason)})})}createBase(){return new Promise((resolve,reject)=>{resolve()})}}exports.GeneratorBase=GeneratorBase},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const Utils=__webpack_require__(11);exports.Utils=Utils},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});const settings_1=__webpack_require__(2);const library_1=__webpack_require__(6);const mobile_1=__webpack_require__(8);const desktop_1=__webpack_require__(4);const web_1=__webpack_require__(10);__export(__webpack_require__(0));__export(__webpack_require__(6));__export(__webpack_require__(8));__export(__webpack_require__(4));__export(__webpack_require__(10));function newGenerator(config){switch(config.projectKind){case"library":return library_1.newGeneratorLibrary(config);case"mobile":return mobile_1.newGeneratorMobile(config);case"desktop":return desktop_1.newGeneratorDesktop(config);case"web":return web_1.newGeneratorWeb(config);default:settings_1.assert(false,"unsupported project kind: "+config.projectKind);return null}}exports.newGenerator=newGenerator},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const path=__webpack_require__(12);const os=__webpack_require__(19);const child_process_1=__webpack_require__(18);const libs_1=__webpack_require__(1);const settings_1=__webpack_require__(2);function handleError(error){settings_1.assert(false,error)}exports.handleError=handleError;function templatePath(target){if(null==target){return path.join(settings_1.getLibPath(),"templates")}else{return path.join(settings_1.getLibPath(),"templates",target)}}exports.templatePath=templatePath;function getSpinner(format,index){const fmt=format||"%s";const spinner=new libs_1.Spinner(fmt);const idx=null!=index&&0<=index&&index<10?index:Math.floor(Math.random()*9);spinner.setSpinnerString(libs_1.Spinner.spinners[idx]);return spinner}exports.getSpinner=getSpinner;function normalizeText(text,options){const opt=libs_1.$.extend({},{eol:os.EOL,bom:true},options);text=text.replace(/^\ufeff/gm,"").replace(/\r\n/gm,"\n").replace(/\r/gm,"\n");if(opt.bom){text="\ufeff"+text}if("\n"!==opt.eol){text=text.replace(/\n/gm,opt.eol)}if(opt.tab){const spaces=(()=>{let s="";for(let i=0;i<opt.tab;i++){s+=" "}return s})();text=text.replace(/\t/gm,spaces)}return text}exports.normalizeText=normalizeText;function execCommand(command,args,options){const df=libs_1.$.Deferred();const opt=libs_1.$.extend({},{stdio:"inherit",spinner:{format:"%s"}},options);libs_1.which(command,(error,resolvedCommand)=>{if(error){handleError(JSON.stringify(error))}const spinner=opt.spinner?getSpinner(opt.spinner.format,opt.spinner.index):null;if(spinner){spinner.start()}child_process_1.spawn(resolvedCommand,args,opt).on("error",handleError).on("close",code=>{if(spinner){spinner.stop(true)}df.resolve(code)})});return df.promise()}exports.execCommand=execCommand;function copyTpl(src,dst,params,options){const opt=libs_1.$.extend({},{eol:os.EOL,bom:true,delimiters:"{{ }}"},options);const jst=libs_1.hogan.compile(normalizeText(libs_1.fs.readFileSync(src).toString(),{eol:"\n",bom:false}),opt);const output=normalizeText(jst.render(params),opt);libs_1.fs.copySync(dst,output,"utf8")}exports.copyTpl=copyTpl;function createGUID(){return"{"+libs_1.uuid.v4().toUpperCase()+"}"}exports.createGUID=createGUID;function str2XmlNode(str){return libs_1.$(libs_1.$.parseXML(str)).children()}exports.str2XmlNode=str2XmlNode;function formatXML(str,options){const opt=libs_1.$.extend({},{eol:os.EOL,bom:true,step:2},options);let xml="";let pad=0;let indent;let node;const strArr=normalizeText(str,{eol:"\n"}).replace(/(>)(<)(\/*)/g,"$1\n$2$3").split("\n");const spaces=len=>{let s="";const _indent=len*opt.step;for(let i=0;i<_indent;i++){s+=" "}return s};for(let i=0;i<strArr.length;i++){indent=0;node=libs_1.$.trim(strArr[i]);if(node.match(/.+<\/\w[^>]*>$/)){indent=0}else if(node.match(/^<\/\w/)){if(pad>0){pad-=1}}else if(node.match(/^<\w[^>]*[^\/]>.*$/)){indent=1}else{indent=0}xml+=spaces(pad)+node+opt.eol;pad+=indent}xml=xml.replace(/\n\n/gm,"\n");return normalizeText(xml,opt)}exports.formatXML=formatXML},function(module,exports){module.exports=require("child_process")},function(module,exports){module.exports=require("os")},function(module,exports){module.exports=require("chalk")},function(module,exports){module.exports=require("cli-spinner")},function(module,exports){module.exports=require("fs-extra")},function(module,exports){module.exports=require("glob")},function(module,exports){module.exports=require("jsdom")},function(module,exports){module.exports=require("semver-regex")},function(module,exports){module.exports=require("uuid")},function(module,exports){module.exports=require("which")},function(module,exports){module.exports=require("xmldom")},function(module,exports){module.exports=require("hogan.js")},function(module,exports){module.exports=require("lodash")},function(module,exports){module.exports=require("underscore.string")},function(module,exports){module.exports=require("jquery")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(13)}]);
//# sourceMappingURL=cdp-lib.min.js.map